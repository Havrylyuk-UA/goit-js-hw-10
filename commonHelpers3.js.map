{"version":3,"file":"commonHelpers3.js","sources":["../src/js/01-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport iziToast from 'izitoast';\n\nconst dateInput = document.querySelector('input[type=\"text\"]'),\n  startBtn = document.querySelector('[data-start]'),\n  dataDays = document.querySelector('span[data-days]'),\n  dataHours = document.querySelector('span[data-hours]'),\n  dataMinutes = document.querySelector('span[data-minutes]'),\n  dataSeconds = document.querySelector('span[data-seconds]');\n\nlet userSelectedDate;\n\nconst disabledBtn = () => {\n  startBtn.disabled = true;\n};\n\ndisabledBtn();\n\nconst activeBtn = () => {\n  startBtn.disabled = false;\n  startBtn.style.background = '#4e75ff';\n  startBtn.style.color = '#fff';\n};\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n\n    if (selectedDates[0] > new Date()) {\n      userSelectedDate = selectedDates[0];\n      activeBtn();\n      iziToast.show({\n        iconUrl: 'img/svg/bi_check2-circle.svg',\n        backgroundColor: '#82C43C',\n        message: 'You can start the countdown',\n        messageColor: '#FAFAFB',\n        messageSize: '16px',\n        position: 'topCenter',\n        close: false,\n      });\n    } else {\n      iziToast.show({\n        iconUrl: 'src/img/svg/bi_x-octagon.svg',\n        backgroundColor: '#FC5A5A',\n        message: 'Please choose a date in the future',\n        messageColor: '#FAFAFB',\n        messageSize: '16px',\n        position: 'topCenter',\n        close: false,\n      });\n      disabledBtn();\n    }\n  },\n};\n\nstartBtn.addEventListener('click', e => {\n  e.preventDefault();\n\n  const startCountdown = setInterval(() => {\n    disabledBtn();\n\n    const countdown = userSelectedDate - Date.now();\n    const convertDate = convertMs(countdown);\n\n    if (countdown > 0) {\n      dataDays.textContent = addLeadingZero(convertDate.days);\n      dataHours.textContent = addLeadingZero(convertDate.hours);\n      dataMinutes.textContent = addLeadingZero(convertDate.minutes);\n      dataSeconds.textContent = addLeadingZero(convertDate.seconds);\n    } else {\n      clearInterval(startCountdown);\n      iziToast.show({\n        iconUrl: '../img/svg/bi_check2-circle.svg',\n        backgroundColor: '#FC5A5A',\n        message: 'The timer has stopped',\n        messageColor: '#FAFAFB',\n        messageSize: '16px',\n        position: 'topCenter',\n        close: false,\n      });\n    }\n  }, 1000);\n});\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  let time = String(value);\n  if (time.length < 2) {\n    return time.padStart(2, '0');\n  } else {\n    return time;\n  }\n}\n\nflatpickr(dateInput, options);\n"],"names":["dateInput","startBtn","dataDays","dataHours","dataMinutes","dataSeconds","userSelectedDate","disabledBtn","activeBtn","options","selectedDates","iziToast","e","startCountdown","countdown","convertDate","convertMs","addLeadingZero","ms","days","hours","minutes","seconds","value","time","flatpickr"],"mappings":"6vBAGA,MAAMA,EAAY,SAAS,cAAc,oBAAoB,EAC3DC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAc,SAAS,cAAc,oBAAoB,EAE3D,IAAIC,EAEJ,MAAMC,EAAc,IAAM,CACxBN,EAAS,SAAW,EACtB,EAEAM,IAEA,MAAMC,EAAY,IAAM,CACtBP,EAAS,SAAW,GACpBA,EAAS,MAAM,WAAa,UAC5BA,EAAS,MAAM,MAAQ,MACzB,EAEMQ,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAEjBA,EAAc,GAAK,IAAI,MACzBJ,EAAmBI,EAAc,GACjCF,IACAG,EAAS,KAAK,CACZ,QAAS,+BACT,gBAAiB,UACjB,QAAS,8BACT,aAAc,UACd,YAAa,OACb,SAAU,YACV,MAAO,EACf,CAAO,IAEDA,EAAS,KAAK,CACZ,QAAS,+BACT,gBAAiB,UACjB,QAAS,qCACT,aAAc,UACd,YAAa,OACb,SAAU,YACV,MAAO,EACf,CAAO,EACDJ,IAEH,CACH,EAEAN,EAAS,iBAAiB,QAASW,GAAK,CACtCA,EAAE,eAAc,EAEhB,MAAMC,EAAiB,YAAY,IAAM,CACvCN,IAEA,MAAMO,EAAYR,EAAmB,KAAK,IAAG,EACvCS,EAAcC,EAAUF,CAAS,EAEnCA,EAAY,GACdZ,EAAS,YAAce,EAAeF,EAAY,IAAI,EACtDZ,EAAU,YAAcc,EAAeF,EAAY,KAAK,EACxDX,EAAY,YAAca,EAAeF,EAAY,OAAO,EAC5DV,EAAY,YAAcY,EAAeF,EAAY,OAAO,IAE5D,cAAcF,CAAc,EAC5BF,EAAS,KAAK,CACZ,QAAS,kCACT,gBAAiB,UACjB,QAAS,wBACT,aAAc,UACd,YAAa,OACb,SAAU,YACV,MAAO,EACf,CAAO,EAEJ,EAAE,GAAI,CACT,CAAC,EAED,SAASK,EAAUE,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASL,EAAeM,EAAO,CAC7B,IAAIC,EAAO,OAAOD,CAAK,EACvB,OAAIC,EAAK,OAAS,EACTA,EAAK,SAAS,EAAG,GAAG,EAEpBA,CAEX,CAEAC,EAAUzB,EAAWS,CAAO"}